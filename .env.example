# Stemset Configuration

# Model cache directory (where AI models are downloaded and stored)
STEMSET_MODEL_CACHE_DIR=.models

# PyTorch thread count (optional, auto-detected if not set)
# TORCH_NUM_THREADS=8

# Authentication bypass for local development
# Set to true to skip OAuth authentication locally
STEMSET_BYPASS_AUTH=true

# Storage backend selection (optional)
# Set to true to force local storage even if R2 is configured in config.yaml
# Set to false to require R2 storage (fails if R2 not configured)
# If not set, uses R2 if configured, otherwise local storage
STEMSET_LOCAL_STORAGE=true

# GPU worker URL (required for remote processing)
# Get this after deploying: modal deploy src/modal_worker/app.py
# Format: https://<workspace>--stemset-gpu-process.modal.run
# GPU_WORKER_URL=https://your-workspace--stemset-gpu-process.modal.run

# Frontend URL for OAuth redirects after login
# In development with separate frontend dev server:
FRONTEND_URL=http://localhost:5173
# In production (frontend served by API):
# FRONTEND_URL=/

# Google OAuth credentials (required for production)
# Get these from https://console.cloud.google.com/apis/credentials
# Create OAuth 2.0 Client ID for "Web application"
# GOOGLE_CLIENT_ID=your-client-id-here.apps.googleusercontent.com
# GOOGLE_CLIENT_SECRET=your-client-secret-here

# JWT secret for signing tokens (required for production)
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
# JWT_SECRET=your-random-secret-here

# OAuth redirect URI
# For local development:
OAUTH_REDIRECT_URI=http://localhost:8000/auth/callback

# For production (set in Render dashboard):
# OAUTH_REDIRECT_URI=https://your-app.onrender.com/auth/callback

# Cloudflare R2 Storage (optional - for production deployment)
# If not configured, local filesystem storage will be used
# R2_ACCOUNT_ID=your-cloudflare-account-id
# R2_ACCESS_KEY_ID=your-r2-access-key-id
# R2_SECRET_ACCESS_KEY=your-r2-secret-access-key
# R2_BUCKET_NAME=stemset-media
# R2_PUBLIC_URL=https://pub-xxxxx.r2.dev  # Optional: if bucket is public
